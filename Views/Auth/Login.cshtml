@model AppMuseo.Models.LoginViewModel

@{
    ViewData["Title"] = "Iniciar sesión";
    Layout = "_Layout";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-dark text-white">
                    <h4 class="mb-0">@ViewData["Title"]</h4>
                </div>
                <div class="card-body">
                    <form method="post" id="loginForm" novalidate>
                        <div asp-validation-summary="All" class="text-danger"></div>
                        
                        <div class="form-group mb-3">
                            <label for="Email">Correo electrónico</label>
                            <input type="email" class="form-control" name="Email" required 
                                   value="@Model?.Email" autocomplete="username" />
                            <span class="text-danger field-validation-valid" 
                                  data-valmsg-for="Email" data-valmsg-replace="true"></span>
                        </div>
                        
                        <div class="form-group mb-3">
                            <label for="Password">Contraseña</label>
                            <input type="password" class="form-control" name="Password" required 
                                   autocomplete="current-password" />
                            <span class="text-danger field-validation-valid" 
                                  data-valmsg-for="Password" data-valmsg-replace="true"></span>
                        </div>
                        
                        <div class="form-group form-check mb-3">
                            <input type="checkbox" class="form-check-input" name="RememberMe" 
                                   @(Model?.RememberMe == true ? "checked" : "") />
                            <label class="form-check-label">Recordarme</label>
                        </div>
                        
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary w-100">Iniciar sesión</button>
                        </div>
                        
                        @Html.AntiForgeryToken()
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        // Deshabilitar la validación HTML5 nativa
        $('form').each(function() {
            $(this).data('validator', null);
            $.data($(this)[0], 'validator', null);
        });
        
        // Habilitar la validación no intrusiva de jQuery
        $.validator.unobtrusive.parse('form');
    </script>
}
